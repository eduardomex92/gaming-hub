<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/platform-details/Sony"></ion-back-button>
    </ion-buttons>
    <ion-title *ngIf="!loading">{{ game?.name }}</ion-title>
    <ion-title *ngIf="loading">Loading...</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- Skeleton for the background -->
  <div *ngIf="loading" class="game-background">
    <ion-skeleton-text animated style="width: 100%; height: 50vh;"></ion-skeleton-text>
  </div>

  <div
    class="game-background"
    [style.backgroundImage]="'url(' + game?.image + ')'"
    *ngIf="!loading"
  >
    <div class="overlay">
      <h1>{{ game?.name }}</h1>
    </div>
  </div>

  <!-- Skeleton for game details -->
  <div class="game-details" *ngIf="loading">
    <ion-card>
      <ion-card-header>
        <ion-skeleton-text animated style="width: 60%; height: 1.5rem;"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 40%; height: 1rem;"></ion-skeleton-text>
      </ion-card-header>
      <ion-card-content>
        <ion-skeleton-text animated style="width: 80%; height: 1rem;"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 90%; height: 1rem;"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 70%; height: 1rem;"></ion-skeleton-text>
      </ion-card-content>
    </ion-card>
  </div>

  <div class="game-details" *ngIf="!loading">
    <ion-card>
      <ion-card-header>
        <ion-card-title>{{ game.name }}</ion-card-title>
        <ion-card-subtitle>ESRB: {{ game.esrb }}</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <p><strong>Release Date:</strong> {{ game.releaseDate }}</p>
        <p>{{ game.description }}</p>
      </ion-card-content>
    </ion-card>
    <ion-button expand="block" color="primary" (click)="shareGame()">Share Game</ion-button>
  </div>
</ion-content>
